"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[8330],{66250:function(e,t,i){i.r(t),i.d(t,{default:function(){return x}});var n,s={uniStatBreadcrumb:i(92212).Z,downloadExcel:i(91248).Z},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"fix-top-window"},[i("v-uni-view",{staticClass:"uni-header"},[i("uni-stat-breadcrumb",{staticClass:"uni-stat-breadcrumb-on-phone"}),i("v-uni-view",{staticClass:"uni-group"},[i("v-uni-input",{staticClass:"uni-search",attrs:{type:"text",placeholder:"权限列表"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),i("v-uni-button",{staticClass:"uni-button hide-on-phone",attrs:{type:"default",size:"mini"}},[e._v("搜索")]),i("v-uni-button",{staticClass:"uni-button",attrs:{type:"primary",size:"mini"}},[e._v("新增")]),i("v-uni-button",{staticClass:"uni-button",attrs:{type:"warn",size:"mini",disabled:!e.selectedIndexs.length}},[e._v("删除")]),i("download-excel",{staticClass:"hide-on-phone",attrs:{fields:e.exportExcel.fields,data:e.exportExcelData,type:e.exportExcel.type,name:e.exportExcel.filename}},[i("v-uni-button",{staticClass:"uni-button",attrs:{type:"primary",size:"mini"}},[e._v("导出为excel")])],1)],1)],1),i("v-uni-view",{staticClass:"uni-container"})],1)},a=[],o=i(41541),u=(i(73210),i(24603),i(28450),i(74916),i(88386),i(39714),i(21249),i(26467)),c="create_date desc",l=["permission_id","permission_name"],d=20,f=1,h={ascending:"asc",descending:"desc"},m={data:function(){return{query:"",where:"",orderby:c,orderByFieldName:"",selectedIndexs:[],options:(0,o.Z)({pageSize:d,pageCurrent:f,filterData:{}},u.aQ),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-permissions.xls",type:"xls",fields:{"权限ID":"permission_id","权限名称":"permission_name","备注":"comment"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(e){this.exportExcelData=e},getWhere:function(){var e=this.query.trim();if(!e)return"";var t=new RegExp(e,"i");return l.map((function(e){return t+".test("+e+")"})).join(" || ")},search:function(){var e=this,t=this.getWhere();this.where=t,this.$nextTick((function(){e.loadData()}))},navigateTo:function(e,t){var i=this;uni.navigateTo({url:e,events:{refreshData:function(){i.loadData(t)}}})},selectedItems:function(){var e=this.$refs.udb.dataList;return this.selectedIndexs.map((function(t){return e[t]._id}))},delTable:function(){var e=this;this.$refs.udb.remove(this.selectedItems(),{success:function(t){e.$refs.table.clearSelection()}})},selectionChange:function(e){this.selectedIndexs=e.detail.index},confirmDelete:function(e){var t=this;this.$refs.udb.remove(e,{success:function(e){t.$refs.table.clearSelection()}})},sortChange:function(e,t){var i=this;this.orderByFieldName=t,e.order?this.orderby=t+" "+h[e.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))}}},p=m,v=i(69453),b=(0,v.Z)(p,r,a,!1,null,"21e6b3ce",null,!1,s,n),x=b.exports},26467:function(e,t,i){i.d(t,{aQ:function(){return s},sC:function(){return n}});i(89029),i(23957),i(24603),i(28450),i(74916),i(88386),i(39714),i(57658);var n={permission_id:{rules:[{required:!0},{format:"string"}],label:"权限标识"},permission_name:{rules:[{required:!0},{format:"string"}],label:"权限名称"},comment:{rules:[{format:"string"}],label:"备注"}},s={}}}]);